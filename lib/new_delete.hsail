prog global_u64 &ptr_a_address = 0;
prog global_u64 &ptr_b_address = 0;
prog global_u64 &ptr_c_address = 0;

prog function &_Z9put_ptr_aPv2()(arg_u64 %arg_p0)
{
        ld_arg_u64  $d0, [%arg_p0];
        st_global_u64 $d0, [&ptr_a_address];
        ret;
};

prog function &_Z9put_ptr_bPv3()(arg_u64 %arg_p0)
{
        ld_arg_u64  $d0, [%arg_p0];
        st_global_u64 $d0, [&ptr_b_address];
        ret;
};

prog function &_Z9put_ptr_cPv4()(arg_u64 %arg_p0)
{
        ld_arg_u64  $d0, [%arg_p0];
        st_global_u64 $d0, [&ptr_c_address];
        ret;
};

prog function &_ZdlPv()(arg_u64 %arg_p0)
{
};

prog function &_ZdaPv()(arg_u64 %arg_p0)
{
};

prog function &_Znwm(arg_u64 %ret_r0)(arg_u64 %arg_p0)
{

align(16) group_u64 %__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN7g_idataE_02[512];
align(16) group_u64 %__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03[512];

@ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__entry:
// BB#0:
workitemid_u32	$s1, 0;
shl_u32	$s0, $s1, 3;
ld_arg_u64 $d0, [%arg_p0];
st_group_align(8)_u64	$d0, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN7g_idataE_02][$s0];
barrier;
shl_u32	$s6, $s1, 1;
or_b32	$s3, $s6, 1;
shl_u32	$s2, $s6, 3;
ld_group_align(16)_u64	$d0, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN7g_idataE_02][$s2];
st_group_align(16)_u64	$d0, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s2];
shl_u32	$s5, $s3, 3;
workitemabsid_u32	$s4, 0;
ld_global_u64 $d0, [&ptr_c_address];
ld_global_u64 $d2, [&ptr_a_address];
ld_global_u64 $d1, [&ptr_b_address];
currentworkgroupsize_u32 $s2, 0;
ld_kernarg_align(8)_width(all)_u64	$d3, [0];
ld_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN7g_idataE_02][$s5];
st_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s5];
shr_s32	$s7, $s2, 1;
cmp_lt_b1_s32	$c0, $s7, 1;
cbr_b1	$c0, @BB0_1;
// BB#2:                                // %.lr.ph10.i
add_u32	$s8, $s6, 2;
mov_b32	$s5, 1;

@BB0_3:
barrier;
cmp_ge_b1_s32	$c0, $s1, $s7;
cbr_b1	$c0, @BB0_5;
// BB#4:
mul_u32	$s9, $s5, $s3;
shl_u32	$s9, $s9, 3;
ld_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];
mul_u32	$s9, $s5, $s8;
shl_u32	$s9, $s9, 3;
ld_group_align(8)_u64	$d5, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];
add_u64	$d4, $d5, $d4;
st_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];

@BB0_5:
shl_u32	$s5, $s5, 1;
shr_s32	$s7, $s7, 1;
cmp_gt_b1_s32	$c0, $s7, 0;
cbr_b1	$c0, @BB0_3;
br	@BB0_6;

@BB0_1:
mov_b32	$s5, 1;

@BB0_6:
// %._crit_edge11.i
cmp_ne_b1_s32	$c0, $s1, 0;
cbr_b1	$c0, @BB0_8;
// BB#7:
shl_u32	$s7, $s2, 3;
mov_b64	$d4, 0;
st_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s7-8];

@BB0_8:
// %.preheader.i
cmp_lt_b1_s32	$c0, $s2, 2;
cbr_b1	$c0, @BB0_13;
// BB#9:                                // %.lr.ph.i
add_u32	$s6, $s6, 2;
mov_b32	$s7, 1;

@BB0_10:
barrier;
shr_s32	$s5, $s5, 1;
cmp_ge_b1_s32	$c0, $s1, $s7;
cbr_b1	$c0, @BB0_12;
// BB#11:
mul_u32	$s8, $s5, $s3;
shl_u32	$s8, $s8, 3;
ld_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s8-8];
mul_u32	$s9, $s5, $s6;
shl_u32	$s9, $s9, 3;
ld_group_align(8)_u64	$d5, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];
st_group_align(8)_u64	$d5, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s8-8];
ld_group_align(8)_u64	$d5, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];
add_u64	$d4, $d5, $d4;
st_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];

@BB0_12:
shl_u32	$s7, $s7, 1;
cmp_lt_b1_s32	$c0, $s7, $s2;
cbr_b1	$c0, @BB0_10;

@BB0_13:
// %._crit_edge.i
cvt_u64_u32	$d4, $s4;
workgroupid_u32	$s3, 0;
add_u64	$d3, $d4, $d3;
barrier;
cvt_s64_s32	$d4, $s3;
cmp_ne_b1_s32	$c0, $s1, 0;
cbr_b1	$c0, @BB0_16;
// BB#14:
shl_u64	$d5, $d4, 3;
add_u64	$d5, $d1, $d5;
add_u32	$s1, $s2, 4294967295;
shl_u32	$s1, $s1, 3;
ld_group_align(8)_width(WAVESIZE)_u64	$d6, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s1];
ld_group_align(8)_width(WAVESIZE)_u64	$d7, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN7g_idataE_02][$s1];
add_u64	$d6, $d7, $d6;
atomicnoret_st_global_screl_sys_equiv(255)_b64	[$d5], $d6;
shl_u64	$d5, $d4, 2;
add_u64	$d2, $d2, $d5;
mov_b32	$s1, 1;
atomicnoret_st_global_screl_sys_equiv(255)_b32	[$d2], $s1;

@BB0_15:
atomic_ld_global_scacq_sys_equiv(255)_b32	$s1, [$d2];
cmp_ne_b1_s32	$c0, $s1, 0;
cbr_b1	$c0, @BB0_15;

@BB0_16:
// %_ZZ4mainENK3$_1clE_0N11Concurrency11tiled_indexILi4ELi0ELi0EEE.exit
shl_u64	$d2, $d4, 3;
shl_u64	$d3, $d3, 32;
shr_s64	$d3, $d3, 32;
shl_u64	$d3, $d3, 3;
add_u64	$d0, $d0, $d3;
add_u64	$d1, $d1, $d2;
barrier;
atomic_ld_global_scacq_sys_equiv(255)_b64	$d1, [$d1];
ld_group_align(8)_u64	$d2, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s0];
add_u64	$d1, $d1, $d2;
//atomicnoret_st_global_screl_sys_equiv(255)_b64	[$d0], $d1;
st_arg_u64  $d1, [%ret_r0];
ret;

};

prog function &_Znam(arg_u64 %ret_r0)(arg_u64 %arg_p0)
{

align(16) group_u64 %__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN7g_idataE_02[512];
align(16) group_u64 %__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03[512];

@ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__entry:
// BB#0:
workitemid_u32	$s1, 0;
shl_u32	$s0, $s1, 3;
ld_arg_u64 $d0, [%arg_p0];
st_group_align(8)_u64	$d0, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN7g_idataE_02][$s0];
barrier;
shl_u32	$s6, $s1, 1;
or_b32	$s3, $s6, 1;
shl_u32	$s2, $s6, 3;
ld_group_align(16)_u64	$d0, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN7g_idataE_02][$s2];
st_group_align(16)_u64	$d0, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s2];
shl_u32	$s5, $s3, 3;
workitemabsid_u32	$s4, 0;
ld_global_u64 $d0, [&ptr_c_address];
ld_global_u64 $d2, [&ptr_a_address];
ld_global_u64 $d1, [&ptr_b_address];
currentworkgroupsize_u32 $s2, 0;
ld_kernarg_align(8)_width(all)_u64	$d3, [0];
ld_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN7g_idataE_02][$s5];
st_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s5];
shr_s32	$s7, $s2, 1;
cmp_lt_b1_s32	$c0, $s7, 1;
cbr_b1	$c0, @BB0_1;
// BB#2:                                // %.lr.ph10.i
add_u32	$s8, $s6, 2;
mov_b32	$s5, 1;

@BB0_3:
barrier;
cmp_ge_b1_s32	$c0, $s1, $s7;
cbr_b1	$c0, @BB0_5;
// BB#4:
mul_u32	$s9, $s5, $s3;
shl_u32	$s9, $s9, 3;
ld_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];
mul_u32	$s9, $s5, $s8;
shl_u32	$s9, $s9, 3;
ld_group_align(8)_u64	$d5, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];
add_u64	$d4, $d5, $d4;
st_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];

@BB0_5:
shl_u32	$s5, $s5, 1;
shr_s32	$s7, $s7, 1;
cmp_gt_b1_s32	$c0, $s7, 0;
cbr_b1	$c0, @BB0_3;
br	@BB0_6;

@BB0_1:
mov_b32	$s5, 1;

@BB0_6:
// %._crit_edge11.i
cmp_ne_b1_s32	$c0, $s1, 0;
cbr_b1	$c0, @BB0_8;
// BB#7:
shl_u32	$s7, $s2, 3;
mov_b64	$d4, 0;
st_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s7-8];

@BB0_8:
// %.preheader.i
cmp_lt_b1_s32	$c0, $s2, 2;
cbr_b1	$c0, @BB0_13;
// BB#9:                                // %.lr.ph.i
add_u32	$s6, $s6, 2;
mov_b32	$s7, 1;

@BB0_10:
barrier;
shr_s32	$s5, $s5, 1;
cmp_ge_b1_s32	$c0, $s1, $s7;
cbr_b1	$c0, @BB0_12;
// BB#11:
mul_u32	$s8, $s5, $s3;
shl_u32	$s8, $s8, 3;
ld_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s8-8];
mul_u32	$s9, $s5, $s6;
shl_u32	$s9, $s9, 3;
ld_group_align(8)_u64	$d5, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];
st_group_align(8)_u64	$d5, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s8-8];
ld_group_align(8)_u64	$d5, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];
add_u64	$d4, $d5, $d4;
st_group_align(8)_u64	$d4, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s9-8];

@BB0_12:
shl_u32	$s7, $s7, 1;
cmp_lt_b1_s32	$c0, $s7, $s2;
cbr_b1	$c0, @BB0_10;

@BB0_13:
// %._crit_edge.i
cvt_u64_u32	$d4, $s4;
workgroupid_u32	$s3, 0;
add_u64	$d3, $d4, $d3;
barrier;
cvt_s64_s32	$d4, $s3;
cmp_ne_b1_s32	$c0, $s1, 0;
cbr_b1	$c0, @BB0_16;
// BB#14:
shl_u64	$d5, $d4, 3;
add_u64	$d5, $d1, $d5;
add_u32	$s1, $s2, 4294967295;
shl_u32	$s1, $s1, 3;
ld_group_align(8)_width(WAVESIZE)_u64	$d6, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s1];
ld_group_align(8)_width(WAVESIZE)_u64	$d7, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN7g_idataE_02][$s1];
add_u64	$d6, $d7, $d6;
atomicnoret_st_global_screl_sys_equiv(255)_b64	[$d5], $d6;
shl_u64	$d5, $d4, 2;
add_u64	$d2, $d2, $d5;
mov_b32	$s1, 1;
atomicnoret_st_global_screl_sys_equiv(255)_b32	[$d2], $s1;

@BB0_15:
atomic_ld_global_scacq_sys_equiv(255)_b32	$s1, [$d2];
cmp_ne_b1_s32	$c0, $s1, 0;
cbr_b1	$c0, @BB0_15;

@BB0_16:
// %_ZZ4mainENK3$_1clE_0N11Concurrency11tiled_indexILi4ELi0ELi0EEE.exit
shl_u64	$d2, $d4, 3;
shl_u64	$d3, $d3, 32;
shr_s64	$d3, $d3, 32;
shl_u64	$d3, $d3, 3;
add_u64	$d0, $d0, $d3;
add_u64	$d1, $d1, $d2;
barrier;
atomic_ld_global_scacq_sys_equiv(255)_b64	$d1, [$d1];
ld_group_align(8)_u64	$d2, [%__hsa_replaced_ZZ4mainEN3_EC__119__cxxamp_trampolineE_0liPNSt3__16atomicIlEEPNS1_IiEES3__ZZ4mainEN4tempE_03][$s0];
add_u64	$d1, $d1, $d2;
//atomicnoret_st_global_screl_sys_equiv(255)_b64	[$d0], $d1;
st_arg_u64  $d1, [%ret_r0];
ret;

};
